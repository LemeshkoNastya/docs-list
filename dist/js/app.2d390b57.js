(function(e){function t(t){for(var r,o,a=t[0],l=t[1],c=t[2],u=0,m=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==s[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},s={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/docs-list/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0d45":function(e,t,n){e.exports=n.p+"img/delete.1943bef3.svg"},"21e2":function(e,t,n){e.exports=n.p+"img/arrow.008c8b25.svg"},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),s=n("7496"),i=function(){var e=this,t=e._self._c;return t(s["a"],[t("router-view")],1)},o=[],a={name:"App"},l=a,c=n("2877"),d=Object(c["a"])(l,i,o,!1,null,null,null),u=d.exports,m=n("8c4f"),g=n("cd55"),f=n("49e2"),h=n("c865"),p=n("0393"),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"docs"},[t("h2",{staticClass:"docs__title"},[e._v("Документы")]),t("BaseSearch",{attrs:{search:e.docsSearch},on:{"update:search":function(t){e.docsSearch=t}}}),t(p["a"],{ref:"listCategories",staticClass:"docs__categories",attrs:{accordion:""}},[t("TransitionGroup",{attrs:{name:"list"}},e._l(e.docsCategories,(function(n,r){return t(g["a"],{key:n.id,staticClass:"docs__category",on:{click:function(t){e.indexCategoryActive=r}}},[t(h["a"],{staticClass:"docs__header",class:{docs__header_next:e.checkCategory(r)},scopedSlots:e._u([{key:"default",fn:function({open:r}){return[t("DocCategory",{ref:"category-"+n.id,refInFor:!0,attrs:{category:n,open:r},on:{move:function(t){return e.dragMoveCategory(t)},end:function(t){return e.dragEndCategory(t)},start:function(t){e.currentDrapCategory=n}}})]}}],null,!0)}),t(f["a"],[t("div",{staticClass:"docs__elements"},e._l(n.elements,(function(n){return t("DocElement",{key:n.id,ref:"element-"+n.id,refInFor:!0,attrs:{element:n},on:{move:function(t){return e.dragMoveElement(t)},end:function(t){return e.dragEndElement(t)},start:function(t){e.currentDrapElement=n}}})})),1)])],1)})),1)],1),t("div",{ref:"listElements",staticClass:"docs__elements"},[t("TransitionGroup",{attrs:{name:"list"}},e._l(e.docsElements,(function(n){return t("DocElement",{key:n.id,ref:"element-"+n.id,refInFor:!0,attrs:{element:n},on:{move:function(t){return e.dragMoveElement(t)},end:function(t){return e.dragEndElement(t)},start:function(t){e.currentDrapElement=n}}})})),1)],1),0===e.docsCategories.length&&0===e.docsElements.length?t("span",{staticClass:"docs__error"},[e._v(" Ничего не найдено. Попробуйте изменить параметры поиска. ")]):e._e(),t("div",{ref:"dragElement",staticClass:"docs__drop"},[t("DocElement",{attrs:{element:e.currentDrapElement,drop:!0}})],1),t("div",{ref:"dragCategory",staticClass:"docs__drop"},[t("DocCategory",{attrs:{category:e.currentDrapCategory,drop:!0}})],1)],1)},y=[],_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("BaseInput",{attrs:{text:e.currentSearch,options:e.optionsTextField},on:{"update:text":function(t){e.currentSearch=t}}})],1)},C=[],b=n("8654"),E=function(){var e=this,t=e._self._c;return t(b["a"],{staticClass:"input",attrs:{dense:"",solo:e.options.solo,label:e.options.label,readonly:e.options.readonly,clearable:e.options.clearable,"single-line":!e.options.solo,"prepend-inner-icon":e.options.prepend.show?e.options.prepend.icon:"",color:"#0066FF"},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t("img",{attrs:{src:n("d103"),alt:"icon search"}})]},proxy:!0}]),model:{value:e.currentText,callback:function(t){e.currentText=t},expression:"currentText"}})},x=[],k={props:["text","options"],data(){return{currentText:this.text}},watch:{currentText(){this.$emit("update:text",this.currentText)},text(){this.currentText=this.text}}},w=k,$=(n("e3fa"),Object(c["a"])(w,E,x,!1,null,null,null)),O=$.exports,L={props:["search"],components:{BaseInput:O},data(){return{currentSearch:"",optionsTextField:{label:"Поиск",solo:!1,readonly:!1,clearable:!0,prepend:{show:!0,icon:"mdi-magnify"}}}},watch:{currentSearch(){this.$emit("update:search",this.currentSearch||null)},search(){this.currentSearch=this.search}},beforeMount(){this.currentSearch=this.search}},D=L,S=(n("f280"),Object(c["a"])(D,_,C,!1,null,null,null)),F=S.exports,j=function(){var e=this,t=e._self._c;return e.category?t("div",{ref:"category-"+e.category.id,staticClass:"docs__content category"},[t("div",{staticClass:"docs__info"},[t("div",{staticClass:"category__arrow",class:{category__arrow_active:e.open}},[t("img",{attrs:{src:n("21e2"),alt:"arrow button icon"}})]),t("h3",{staticClass:"category__title"},[e._v(e._s(e.category.title))]),e.category.markers.length>0?t("div",{staticClass:"docs__markers"},e._l(e.category.markers,(function(e){return t("div",{key:e.background,staticClass:"docs__marker",class:{docs__marker_outline:e.outline},style:{background:e.background}})})),0):e._e(),e.category.type?t("span",{staticClass:"docs__type"},[e._v(" "+e._s(e.category.type)+" ")]):e._e(),e.category.subtitle?t("span",{staticClass:"docs__subtitle"},[e._v(" "+e._s(e.category.subtitle)+" ")]):e._e()]),t("div",{staticClass:"docs__buttons"},e._l(e.docsButtons,(function(n){return t("button",{key:n.name,on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.dragStart(n.name)}}},[t("img",{attrs:{src:e.pathButton(n.name),alt:n.alt}})])})),0)]):e._e()},B=[],T=n("2f62"),I={props:["category","open","drop"],computed:{...Object(T["c"])(["docsButtons"])},methods:{pathButton(e){return"moving"===e&&this.drop?n("ebf6")(`./${e}_active.svg`):n("6f32")(`./${e}.svg`)},dragStart(e){"moving"===e&&(this.$emit("start"),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),this.$refs["category-"+this.category.id].classList.add("docs_dragging"))},dragMove(e){e=e||window.event,e.preventDefault(),this.$emit("move")},dragEnd(e){e=e||window.event,e.preventDefault(),this.draggableStart=!1,document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),this.$emit("end"),this.$refs["category-"+this.category.id].classList.remove("docs_dragging")}}},M=I,A=(n("6695"),Object(c["a"])(M,j,B,!1,null,null,null)),P=A.exports,Y=function(){var e=this,t=e._self._c;return e.element?t("div",{ref:"element-"+e.element.id,staticClass:"docs__content element"},[t("div",{staticClass:"docs__info"},[t("h4",{staticClass:"element__title"},[e._v(e._s(e.element.title))]),e.element.markers.length>0?t("div",{staticClass:"docs__markers"},e._l(e.element.markers,(function(e){return t("div",{key:e.background,staticClass:"docs__marker",class:{docs__marker_outline:e.outline},style:{background:e.background}})})),0):e._e(),e.element.type?t("span",{staticClass:"docs__type"},[e._v(" "+e._s(e.element.type)+" ")]):e._e(),e.element.subtitle?t("span",{staticClass:"docs__subtitle"},[e._v(" "+e._s(e.element.subtitle)+" ")]):e._e()]),t("div",{staticClass:"docs__buttons"},e._l(e.docsButtons,(function(n){return t("button",{key:n.name,on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.dragStart(n.name)}}},[t("img",{attrs:{src:e.pathButton(n.name),alt:n.alt}})])})),0)]):e._e()},N=[],U={props:["element","drop"],computed:{...Object(T["c"])(["docsButtons"])},methods:{pathButton(e){return"moving"===e&&this.drop?n("ebf6")(`./${e}_active.svg`):n("6f32")(`./${e}.svg`)},dragStart(e){"moving"===e&&(this.$emit("start"),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),this.$refs["element-"+this.element.id].classList.add("docs_dragging"))},dragMove(e){e=e||window.event,e.preventDefault(),this.$emit("move")},dragEnd(e){e=e||window.event,e.preventDefault(),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),this.$emit("end"),this.$refs["element-"+this.element.id].classList.remove("docs_dragging")}}},q=U,R=(n("b679"),Object(c["a"])(q,Y,N,!1,null,null,null)),G=R.exports,J={components:{BaseSearch:F,DocCategory:P,DocElement:G},data(){return{docsSearch:null,indexCategoryActive:null,currentDrapCategory:null,currentDrapElement:null,payloadCategories:null,payloadElements:null}},watch:{docsSearch(){this.changeSearch(this.docsSearch),this.changefilterCategories(),this.changeFilterElements()}},computed:{...Object(T["c"])(["docsCategories","docsElements"])},methods:{...Object(T["d"])(["changeSearch","changefilterCategories","changeFilterElements","insertCategory"]),...Object(T["b"])(["insertElements"]),checkCategory(e){return null!==this.indexCategoryActive&&e===this.indexCategoryActive+1},dragMoveCategory(e){e=e||window.event,e.preventDefault();const t=this.$refs.listCategories.$el.getBoundingClientRect();this.$refs.dragCategory.hidden=!0;const n=document.elementFromPoint(e.clientX,e.clientY);this.$refs.dragCategory.hidden=!1;const r=this.$refs["category-"+this.currentDrapCategory.id];if(this.deleteClassInsert(),this.payloadCategories=null,n&&r[0].$el!==n&&n.classList.contains("category")){let e;n.classList.add("category_insert"),this.docsCategories.forEach(t=>{n===this.$refs["category-"+t.id][0].$el&&(e=t.id)}),this.payloadCategories={active:this.currentDrapCategory.id,current:e}}e.clientY>=t.top&&e.clientY<=t.top+t.height&&(this.$refs.dragCategory.style.top=e.clientY+"px"),this.$refs.dragCategory.style.left="30px"},dragEndCategory(e){e=e||window.event,e.preventDefault(),null!==this.payloadCategories&&this.insertCategory(this.payloadCategories),this.$refs.dragCategory.style.top="-100vh",this.deleteClassInsert()},dragMoveElement(e){e=e||window.event,e.preventDefault();const t=this.$refs.listCategories.$el.getBoundingClientRect(),n=this.$refs.listElements.getBoundingClientRect();this.$refs.dragElement.hidden=!0;const r=document.elementFromPoint(e.clientX,e.clientY);this.$refs.dragElement.hidden=!1;const s=this.$refs["element-"+this.currentDrapElement.id];if(this.deleteClassInsertForElement(),this.payloadElements=null,r&&s[0].$el&&s[0].$el!==r&&r.classList.contains("element")){r.classList.add("element_insert");let e=null;this.docsElements.forEach(t=>{r===this.$refs["element-"+t.id][0].$el&&(e=t.id)}),null===e&&this.docsCategories.forEach(t=>{t.elements.length>0&&t.elements.forEach(t=>{this.$refs["element-"+t.id]&&r===this.$refs["element-"+t.id][0].$el&&(e=t.id)})}),this.payloadElements={active:this.currentDrapElement.id,current:e}}e.clientY>=t.top&&e.clientY<=n.top+n.height&&(this.$refs.dragElement.style.top=e.clientY+"px"),this.$refs.dragElement.style.left="30px"},dragEndElement(e){e=e||window.event,e.preventDefault(),null!==this.payloadElements&&this.insertElements(this.payloadElements),this.$refs.dragElement.style.top="-100vh",this.deleteClassInsertForElement()},deleteClassInsert(){const e=this.$refs.listCategories.$el.querySelectorAll(".category");e&&e.forEach(e=>{e.classList.contains("category_insert")&&e.classList.remove("category_insert")})},deleteClassInsertForElement(){const e=this.$refs.listCategories.$el.querySelectorAll(".element"),t=this.$refs.listElements.querySelectorAll(".element");e&&e.forEach(e=>{e.classList.contains("element_insert")&&e.classList.remove("element_insert")}),t&&t.forEach(e=>{e.classList.contains("element_insert")&&e.classList.remove("element_insert")})}},mounted(){this.changefilterCategories(),this.changeFilterElements()}},X=J,z=(n("f561"),Object(c["a"])(X,v,y,!1,null,null,null)),H=z.exports;r["a"].use(m["a"]);const K=[{path:"/",name:"Docs",component:H}],Q=new m["a"]({mode:"history",base:"/docs-list/",routes:K});var V=Q;r["a"].use(T["a"]);var W=new T["a"].Store({state:{categories:[{id:0,title:"Обязательные для всех",subtitle:"Документы, обязательные для всех сотрудников без исключения",markers:[{background:"#FF238D",outline:!1},{background:"#FFB800",outline:!1},{background:"#FF8D23",outline:!0}],type:null,elements:[{id:0,title:"Паспорт",subtitle:"Для всех",markers:[{background:"#00C2FF",outline:!1}],type:"Обязательный"},{id:1,title:"ИНН",subtitle:"Для всех",markers:[],type:"Обязательный"}]},{id:1,title:"Обязательные для трудоустройства",subtitle:"Документы, без которых невозможно трудоустройство человека на какую бы то ни было должность в компании вне зависимости от граж",markers:[],type:null,elements:[]},{id:2,title:"Специальные",subtitle:null,markers:[],type:null,elements:[]}],elements:[{id:2,title:"Тестовое задание кандидата",subtitle:"Россия, Белоруссия, Украина, администратор филиала, повар-сушист, повар-пиццмейкер, повар горячего цеха",markers:[],type:null},{id:3,title:"Трудовой договор",subtitle:null,markers:[{background:"#0066FF",outline:!1},{background:"#8E9CBB",outline:!1}],type:null},{id:4,title:"Мед. книжка",subtitle:null,markers:[],type:null}],buttons:[{name:"edit",alt:"edit button icon"},{name:"delete",alt:"delete button icon"},{name:"moving",alt:"moving button icon"}],search:null,filterCategories:[],filterElements:[],activeElement:null,currentElement:null},mutations:{changeSearch(e,t){e.search=t},changefilterCategories(e){let t=e.categories.slice();null!==e.search&&(t=t.filter(t=>t.title.toLowerCase().indexOf(e.search.toLowerCase())>-1),t.forEach(t=>{t.elements=t.elements.filter(t=>t.title.toLowerCase().indexOf(e.search.toLowerCase())>-1)})),e.filterCategories=t},changeFilterElements(e){let t=e.elements.slice();null!==e.search&&(t=t.filter(t=>t.title.toLowerCase().indexOf(e.search.toLowerCase())>-1)),e.filterElements=t},insertCategory(e,t){const n=e.filterCategories.findIndex(e=>e.id===t.active),r=e.filterCategories.findIndex(e=>e.id===t.current),s=e.filterCategories.slice(0)[n];n>-1&&r>-1&&(e.filterCategories.splice(n,1),setTimeout(()=>{e.filterCategories.splice(r,0,s)},1e3))},changeActiveElement(e,t){e.activeElement=t},changeCurrentElement(e,t){e.currentElement=t},changeElements(e,t){let n=null;null===t.active.category?(n=e.filterElements.slice(0)[t.active.index],e.filterElements.splice(t.active.index,1)):(n=e.filterCategories[t.active.category].elements.slice(0)[t.active.index],e.filterCategories[t.active.category].elements.splice(t.active.index,1)),null===t.current.category?setTimeout(()=>{e.filterElements.splice(t.current.index,0,n)},1e3):setTimeout(()=>{e.filterCategories[t.current.category].elements.splice(t.current.index,0,n)},1e3)}},getters:{docsCategories(e){return e.filterCategories},docsElements(e){return e.filterElements},docsButtons(e){return e.buttons}},actions:{defineIndexElement({state:e,commit:t},n){let r=e.filterElements.findIndex(e=>e.id===n.id),s=null;r>-1?s={category:null,index:r}:e.filterCategories.forEach((e,t)=>{r=e.elements.findIndex(e=>e.id===n.id),r>-1&&(s={category:t,index:r})}),t(n.mutation,s)},insertElements({state:e,dispatch:t,commit:n},r){t("defineIndexElement",{id:r.active,mutation:"changeActiveElement"}),t("defineIndexElement",{id:r.current,mutation:"changeCurrentElement"}),n("changeElements",{active:e.activeElement,current:e.currentElement})}},modules:{}}),Z=n("f309");r["a"].use(Z["a"]);var ee=new Z["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:V,store:W,vuetify:ee,render:e=>e(u)}).$mount("#app")},6695:function(e,t,n){"use strict";n("71d5")},"6f32":function(e,t,n){var r={"./arrow.svg":"21e2","./delete.svg":"0d45","./edit.svg":"daf0","./moving.svg":"7dce","./moving_active.svg":"aea5","./search.svg":"d103"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id="6f32"},"71d5":function(e,t,n){},"7dce":function(e,t,n){e.exports=n.p+"img/moving.556d3b5c.svg"},"89ea":function(e,t,n){},a307:function(e,t,n){},a6fa:function(e,t,n){},aea5:function(e,t,n){e.exports=n.p+"img/moving_active.22ed7738.svg"},b679:function(e,t,n){"use strict";n("a6fa")},cbbe:function(e,t,n){},d103:function(e,t,n){e.exports=n.p+"img/search.bba181e8.svg"},daf0:function(e,t,n){e.exports=n.p+"img/edit.ebb3c6a5.svg"},e3fa:function(e,t,n){"use strict";n("89ea")},ebf6:function(e,t,n){var r={"./moving_active.svg":"aea5"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id="ebf6"},f280:function(e,t,n){"use strict";n("a307")},f561:function(e,t,n){"use strict";n("cbbe")}});
//# sourceMappingURL=app.2d390b57.js.map